const initialState = {
    currentDoc: 'John Brown',
    filteredSpec: '',
    doctors: [{
        key: '1',
        name: 'John Brown',
        spec: 'Терапевт',
        records: { jan: [
                            [
                                '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                                ],[
                                '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                                ],[
                                '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'  
                                ],[
                                '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                                ],[
                                '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                            ]
                        ]
        }
    }]
};

export default function doctors(state=initialState, action){
    switch (action.type){
        case 'ADD_DOCTOR' :
            return {
                currentDoc: state.currentDoc,
                filteredSpec: state.filteredSpec,
                doctors: [...state.doctors, {
                    key: (() =>{
                        let num = state.doctors.length+1;    
                        return num.toString();
                    })(),
                    name: action.name,
                    spec: action.spec,
                    records: [
                        [
                        '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                        ],[
                        '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                        ],[
                        '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'  
                        ],[
                        '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                        ],[
                        '-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'
                        ]
                    ]
                }]
            }

        case 'SET_CURRENT':
            return {
                ...state,
                currentDoc: action.name
            }    

        case 'DELETE_DOCTOR' :
            return {
                currentDoc: state.currentDoc,
                filteredSpec: state.filteredSpec, 
                doctors: state.doctors.filter((item) => {
                    item.name != action.name
                })
            }

        case 'SET_FILTER':
            return {
                ...state,
                filteredSpec: action.spec,
            }    

        default:
            return state;    
    }
};